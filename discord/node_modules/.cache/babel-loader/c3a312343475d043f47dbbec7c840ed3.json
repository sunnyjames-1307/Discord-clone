{"ast":null,"code":"var _jsxFileName = \"T:\\\\clones\\\\discord-clone\\\\discord\\\\src\\\\components\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport ChatHeader from \"./ChatHeader\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport CardGiftcardIcon from \"@material-ui/icons/CardGiftcard\";\nimport GifIcon from \"@material-ui/icons/Gif\";\nimport EmojiEmotionsIcon from \"@material-ui/icons/EmojiEmotions\";\nimport Message from \"./Message\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../features/userSlice\";\nimport { selectChannelId, selectChannelName } from \"../features/appSlice\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport db from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const user = useSelector(selectUser);\n  const channelId = useSelector(selectChannelId);\n  const channelName = useSelector(selectChannelName);\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    if (channelId) {\n      db.collection(\"channels\").doc(channelId).collection(\"messages\").orderBy(\"timestamp\", \"desc\").onSnapshot(snapshot => setMessages(snapshot.docs.map(doc => doc.data())));\n    }\n  }, [channelId]);\n\n  const sendMessage = e => {\n    e.preventDefault();\n    db.collection(\"channels\").doc(channelId).collection(\"messages\").add({\n      timestamp: firebase.firestore.FieldValue.serverTimeStamp(),\n      message: input,\n      user: user\n    });\n    setInput(\" \");\n  };\n\n  return /*#__PURE__*/_jsxDEV(TChat, {\n    children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n      channelName: channelName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chat_messages, {\n      children: messages.map(message => {\n        /*#__PURE__*/\n        _jsxDEV(Message, {\n          timestamp: message.timestamp,\n          message: message.message,\n          user: message.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chat_input, {\n      children: [/*#__PURE__*/_jsxDEV(AddCircleIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: input,\n          disabled: !channelId,\n          onChange: e => setInput(e.target.value),\n          placeHolder: `Message #${channelName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !channelId,\n          onClick: sendMessage,\n          type: \"submit\",\n          children: \"Send Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputIcons, {\n        children: [/*#__PURE__*/_jsxDEV(CardGiftcardIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GifIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EmojiEmotionsIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chat, \"KJsaULsvNT/igNEzqDO/ORXuJYI=\", false, function () {\n  return [useSelector, useSelector, useSelector];\n});\n\n_c = Chat;\nconst TChat = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 0.75;\n  background-color: #363a3f;\n  height: 100vh;\n`;\n_c2 = TChat;\nconst Chat_messages = styled.div`\n  flex: 1;\n`;\n_c3 = Chat_messages;\nconst Chat_input = styled.div`\ncolor:lightgray;\ndisplay:flex;\nalign-items:center;\njustify-content:space-between;\npadding:15px;\nborder-radius:5px;\nmargin-20px;\nborder-top:1px solid gray;\nbackground-color:#474b53;\n\nform{\n  flex:1;\n  input{\n    padding:15px;\n    background:transparent;\n    border:none;\n    width:100%;\n    overline-width:0;\n    color:white;\n    font-size:large;\n    }\n  button{\n    display:none;\n  }\n}`;\n_c4 = Chat_input;\nconst InputIcons = styled.div`\n  .MuiSvgIcon-root {\n    padding: 5px;\n  }\n`;\n_c5 = InputIcons;\nexport default Chat;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Chat\");\n$RefreshReg$(_c2, \"TChat\");\n$RefreshReg$(_c3, \"Chat_messages\");\n$RefreshReg$(_c4, \"Chat_input\");\n$RefreshReg$(_c5, \"InputIcons\");","map":{"version":3,"sources":["T:/clones/discord-clone/discord/src/components/Chat.js"],"names":["React","styled","ChatHeader","AddCircleIcon","CardGiftcardIcon","GifIcon","EmojiEmotionsIcon","Message","useSelector","selectUser","selectChannelId","selectChannelName","useState","useEffect","firebase","db","Chat","user","channelId","channelName","input","setInput","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","sendMessage","e","preventDefault","add","timestamp","firestore","FieldValue","serverTimeStamp","message","target","value","TChat","div","Chat_messages","Chat_input","InputIcons"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ChatHeader from \"./ChatHeader\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport CardGiftcardIcon from \"@material-ui/icons/CardGiftcard\";\r\nimport GifIcon from \"@material-ui/icons/Gif\";\r\nimport EmojiEmotionsIcon from \"@material-ui/icons/EmojiEmotions\";\r\nimport Message from \"./Message\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../features/userSlice\";\r\nimport { selectChannelId, selectChannelName } from \"../features/appSlice\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport db from \"../firebase\";\r\n\r\nfunction Chat() {\r\n  const user = useSelector(selectUser);\r\n  const channelId = useSelector(selectChannelId);\r\n  const channelName = useSelector(selectChannelName);\r\n  const [input, setInput] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (channelId) {\r\n      db.collection(\"channels\")\r\n        .doc(channelId)\r\n        .collection(\"messages\")\r\n        .orderBy(\"timestamp\", \"desc\")\r\n        .onSnapshot((snapshot) =>\r\n          setMessages(snapshot.docs.map((doc) => doc.data()))\r\n        );\r\n    }\r\n  }, [channelId]);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    db.collection(\"channels\").doc(channelId).collection(\"messages\").add({\r\n      timestamp: firebase.firestore.FieldValue.serverTimeStamp(),\r\n      message: input,\r\n      user: user,\r\n    });\r\n\r\n    setInput(\" \");\r\n  };\r\n  return (\r\n    <TChat>\r\n      <ChatHeader channelName={channelName} />\r\n      <Chat_messages>\r\n        {messages.map((message) => {\r\n          <Message\r\n            timestamp={message.timestamp}\r\n            message={message.message}\r\n            user={message.user}\r\n          />;\r\n        })}\r\n      </Chat_messages>\r\n      <Chat_input>\r\n        <AddCircleIcon fontSize=\"large\" />\r\n        <form>\r\n          <input\r\n            value={input}\r\n            disabled={!channelId}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            placeHolder={`Message #${channelName}`}\r\n          />\r\n          <button disabled={!channelId} onClick={sendMessage} type=\"submit\">\r\n            Send Message\r\n          </button>\r\n        </form>\r\n        <InputIcons>\r\n          <CardGiftcardIcon />\r\n          <GifIcon fontSize=\"large\" />\r\n          <EmojiEmotionsIcon fontSize=\"large\" />\r\n        </InputIcons>\r\n      </Chat_input>\r\n    </TChat>\r\n  );\r\n}\r\n\r\nconst TChat = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 0.75;\r\n  background-color: #363a3f;\r\n  height: 100vh;\r\n`;\r\n\r\nconst Chat_messages = styled.div`\r\n  flex: 1;\r\n`;\r\nconst Chat_input = styled.div`\r\ncolor:lightgray;\r\ndisplay:flex;\r\nalign-items:center;\r\njustify-content:space-between;\r\npadding:15px;\r\nborder-radius:5px;\r\nmargin-20px;\r\nborder-top:1px solid gray;\r\nbackground-color:#474b53;\r\n\r\nform{\r\n  flex:1;\r\n  input{\r\n    padding:15px;\r\n    background:transparent;\r\n    border:none;\r\n    width:100%;\r\n    overline-width:0;\r\n    color:white;\r\n    font-size:large;\r\n    }\r\n  button{\r\n    display:none;\r\n  }\r\n}`;\r\nconst InputIcons = styled.div`\r\n  .MuiSvgIcon-root {\r\n    padding: 5px;\r\n  }\r\n`;\r\n\r\nexport default Chat;\r\n"]},"metadata":{},"sourceType":"module"}